devtools::load_all(".")
devtools::load_all(".")
df <- energiemeldungen %>% dplyr::rename(alt = `Altes Heizsystem`, neu = `Neues Heizsystem`)
df <- df %>% ggsankey::make_long(alt, neu)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
devtools::load_all(".")
df <- energiemeldungen %>% dplyr::rename(alt = `Altes Heizsystem`, neu = `Neues Heizsystem`)
df <- df %>% ggsankey::make_long(alt, neu)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
df
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
devtools::load_all(".")
df <- energiemeldungen %>% dplyr::rename(alt = `Altes Heizsystem`, neu = `Neues Heizsystem`)
df <- df %>% ggsankey::make_long(alt, neu)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally()
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x))
df
test <- df %>% group_by(x, node, next_x, next_node) %>% tally()
test
df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x))
df %>% group_by(x, node, next_x, next_node) %>% tally()
df <- energiemeldungen %>% dplyr::rename(alt = `Altes Heizsystem`, neu = `Neues Heizsystem`)
df <- df %>% ggsankey::make_long(alt, neu)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
library(dplyr)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
df <- energiemeldungen %>% dplyr::rename(alt = `Altes Heizsystem`, neu = `Neues Heizsystem`)
df <- df %>% ggsankey::make_long(alt, neu)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
library(dplyr)
df <- energiemeldungen %>% dplyr::rename(alt = `Altes Heizsystem`, neu = `Neues Heizsystem`)
df <- df %>% ggsankey::make_long(alt, neu)
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% filter(!is.na(next_x)) %>% ungroup()
#count the changes fossil to fossil
oilOil <- flowNumbers %>% filter((node %in% 'Ölheizung') & (next_node %in% 'Ölheizung'))
#count the occureneces in the flow
flowNumbers <- df %>% group_by(x, node, next_x, next_node) %>% tally() %>% dplyr::filter(!is.na(next_x)) %>% ungroup()
